# Personality Prediction REST Server

Простенький сервер для предсказания психотипа пользователя по шкале MBTI, работающий по протоколу REST. Работает на сервере Амазона. Для того, чтобы работать с API, необходимо пробросить SSH-тунель до сервера. Делается это с помощью следующей команды (файл подключения к серверу testinstanse.pem лежит в этом репозитории:

```
ssh -i "testinstanse.pem" -N -L 5000:localhost:5000 ubuntu@ec2-34-219-138-131.us-west-2.compute.amazonaws.com
```

Все. Теперь этого локальный адрес http://127.0.0.1:5000/ станет доступен для запросов.

## Пример запроса/ответа
Сервер работает только с GET запросами. Чтобы запросить психотип пользователя Instagram, необходимо выполнить следующий REST запрос:
```
GET http://127.0.0.1:5000/user/happyksuh
```

Либо в случае консоли Linux ввести:
```
curl http://127.0.0.1:5000/user/happyksuh
```

Успешный ответ вернется в следующем виде:
```
{
    "mbti": {
        "psy_type": "enfj"
    },
    "status": "OK"
}
```
В случае ошибки ответ будет:
```
{
    "status": "ERROR"
}
```

Очень важно! Для одного пользователя ответ может считаться ДО 11 СЕКУНД. Это долго, но это нормально. Просьба учесть это. Так же не рекомендуется делать много запросов параллельно. Идеально -- иметь очередь запросов, и отправлять следующий только после того, как придет ответ на предыдущий.